<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLICKSY | Premium Cinema</title>
    
    <link rel="preconnect" href="https://i.ibb.co">
    <link rel="preconnect" href="https://image.tmdb.org">
    <link rel="preload" as="image" href="https://image.tmdb.org/t/p/original/rAiYTfKGqDCRIIqo664sY9XZIvQ.jpg">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* =========================================
           Styles
           ========================================= */
        :root {
            --bg-color: #141414;
            --card-bg: #1f1f1f;
            --text-color: #ffffff;
            --primary-color: #e50914;
            --modal-bg: #18181b;
            --btn-green: #00ffbf;
            --btn-badge: #ff9d00;
            --android-color: #3DDC84;
            --apple-color: #A6B1B7;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: var(--bg-color); color: var(--text-color); overflow-x: hidden; }

        /* Scrollbar Styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--primary-color); }

        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 5%; background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
            position: fixed; width: 100%; z-index: 100;
        }
        .logo { font-size: 2rem; font-weight: 800; color: var(--primary-color); letter-spacing: 1px; cursor: pointer; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .btn-main { padding: 8px 20px; background-color: var(--primary-color); color: white; border-radius: 4px; text-decoration: none; font-weight: 600; font-size: 0.9rem; border: none; cursor: pointer; transition: 0.3s; }
        .btn-main:hover { background-color: #b20710; }

        header {
            height: 75vh;
            background: linear-gradient(to top, var(--bg-color), rgba(0,0,0,0.3)), 
                        url('https://image.tmdb.org/t/p/original/rAiYTfKGqDCRIIqo664sY9XZIvQ.jpg');
            background-size: cover; background-position: center;
            display: flex; align-items: center; padding: 0 5%;
        }
        .hero-content { max-width: 700px; }
        .hero-content h1 { font-size: 3.5rem; margin-bottom: 15px; line-height: 1.1; text-shadow: 2px 2px 10px rgba(0,0,0,0.8); }
        .hero-content p { font-size: 1.1rem; color: #ddd; margin-bottom: 25px; line-height: 1.6; }

        .container { padding: 50px 5%; }
        .section-title { margin-bottom: 30px; border-left: 5px solid var(--primary-color); padding-left: 15px; font-size: 1.8rem; font-weight: 600; }
        
        /* 
           تعديل: جعل الشبكة تعرض بطاقات أصغر (150px بدلاً من 200px)
        */
        .movie-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); 
            gap: 15px; 
        }

        .movie-card {
            background-color: var(--card-bg); border-radius: 8px; overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s; cursor: pointer; position: relative;
            display: flex; flex-direction: column;
        }
        .movie-card:hover { transform: scale(1.05); box-shadow: 0 10px 20px rgba(0,0,0,0.5); z-index: 10; }

        .poster-wrapper { position: relative; width: 100%; padding-top: 150%; background: #222; }
        .poster-wrapper img { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; 
            opacity: 0; transition: opacity 0.5s ease-in; 
        }
        .poster-wrapper img.loaded { opacity: 1; }
        
        .rating-badge { position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.85); color: #ffd700; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; border: 1px solid rgba(255, 215, 0, 0.3); }
        
        /* تعديل: تقليل المسافات الداخلية لتتناسب مع الحجم الصغير */
        .card-info { padding: 10px; display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between; }
        
        /* تعديل: تصغير حجم الخط قليلاً */
        .movie-title { font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .watch-btn { background-color: transparent; border: 1px solid #555; color: #fff; padding: 6px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; font-weight: 600; width: 100%; transition: 0.2s; text-transform: uppercase; }
        .movie-card:hover .watch-btn { background-color: var(--primary-color); border-color: var(--primary-color); }

        /* Modal Styles */
        .details-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px);
            z-index: 2000; display: none; justify-content: center; align-items: flex-start;
            overflow-y: auto; padding: 40px 20px; animation: fadeIn 0.4s ease;
        }
        .details-container {
            background: #18181b; width: 100%; max-width: 1000px; border-radius: 16px;
            overflow: hidden; box-shadow: 0 30px 60px rgba(0,0,0,0.8); position: relative;
            display: flex; flex-direction: column;
        }
        .details-hero { height: 450px; position: relative; overflow: hidden; }
        .details-hero::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to top, #18181b 10%, transparent 90%);
        }
        .details-hero-bg { position: absolute; width: 100%; height: 100%; object-fit: cover; object-position: top; }
        
        .details-content { 
            position: relative; z-index: 2; display: flex; padding: 0 50px 50px; 
            gap: 40px; margin-top: -100px; 
        }
        .details-poster { 
            width: 300px; height: 450px; border-radius: 12px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.6); object-fit: cover; 
            flex-shrink: 0; border: 2px solid rgba(255,255,255,0.1); 
        }
        .details-info { padding-top: 60px; flex: 1; display: flex; flex-direction: column; }
        
        .details-title { font-size: 3.5rem; font-weight: 800; margin-bottom: 10px; line-height: 1; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .meta-tags { margin-bottom: 25px; display: flex; align-items: center; gap: 15px; color: #ccc; font-size: 1rem; }
        .match-score { color: #46d369; font-weight: 800; font-size: 1.1rem; }
        .quality-tag { border: 1px solid #aaa; padding: 2px 6px; border-radius: 3px; font-size: 0.8rem; }

        /* Platform Buttons */
        .platform-buttons-container {
            display: flex; gap: 15px; margin-bottom: 30px; width: 100%;
        }
        .btn-platform {
            flex: 1; padding: 16px 20px; border: none; border-radius: 12px;
            font-size: 1.1rem; font-weight: 700; color: #fff; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 12px;
            transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); position: relative; overflow: hidden;
        }
        .btn-platform:hover { transform: translateY(-4px); box-shadow: 0 8px 25px rgba(0,0,0,0.5); filter: brightness(1.1); }
        .btn-platform:active { transform: translateY(-1px); }
        
        .btn-android { background: linear-gradient(135deg, #3DDC84 0%, #2a9c5e 100%); }
        .btn-ios { background: linear-gradient(135deg, #5e5e5e 0%, #000000 100%); }

        .details-desc { 
            font-size: 1.15rem; line-height: 1.8; color: #e0e0e0; 
            background: rgba(255,255,255,0.03); padding: 25px; border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        .close-btn { position: absolute; top: 25px; right: 25px; background: rgba(0,0,0,0.6); color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; cursor: pointer; z-index: 10; transition: 0.2s; backdrop-filter: blur(5px); }
        .close-btn:hover { background: white; color: black; transform: rotate(90deg); }

        /* Locker Modal */
        .locker-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            z-index: 3000; display: none; align-items: center; justify-content: center; padding: 15px;
            font-family: 'Montserrat', sans-serif;
        }
        .locker-overlay.active { display: flex; animation: fadeIn 0.3s; }
        .locker-box {
            background: #18181b; width: 100%; max-width: 450px; 
            border-radius: 8px; overflow: hidden; position: relative;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
            border-top: 4px solid #0070f3;
            text-align: center; padding-bottom: 20px;
            transform: scale(0.95); opacity: 0; transition: 0.3s;
        }
        .locker-overlay.active .locker-box { transform: scale(1); opacity: 1; }
        .mf-header {
            background: #121212; padding: 12px; border-bottom: 1px solid #333;
            display: flex; justify-content: center; align-items: center; gap: 8px;
            font-weight: 800; font-size: 18px; color: #fff;
        }
        .mf-header i { color: #0070f3; }
        .l-game-info { padding: 25px 20px 10px; }
        .l-icon { width: 100px; height: 150px; border-radius: 8px; margin: 0 auto 12px; display: block; box-shadow: 0 5px 20px rgba(0,0,0,0.5); object-fit: cover; }
        .l-title { font-size: 18px; font-weight: 800; margin-bottom: 4px; color: #fff; text-transform: uppercase; }
        .l-secure { color: #2ecc71; font-size: 11px; font-weight: 700; display: flex; justify-content: center; gap: 5px; align-items: center; margin-bottom: 20px; }
        .instructions {
            text-align: left; background: #1e1e22; margin: 0 20px 20px; padding: 12px;
            border-left: 3px solid #ff5722; border-radius: 4px; font-size: 12px; line-height: 1.5; color: #ccc;
        }
        .instructions strong { color: #ffffff; font-weight: 900; font-size: 1.2em; text-shadow: 0 0 5px rgba(255,255,255,0.3); }
        .instructions ul { list-style: none; margin-top: 6px; padding-left: 2px; }
        .instructions li { margin-bottom: 3px; color: #aaa; font-size: 11px; display: flex; gap: 6px; align-items: center; }
        .instructions li span { background: #ff9d00; color: #000; width: 14px; height: 14px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; font-size: 9px; flex-shrink: 0; }
        .tasks-list { display: flex; flex-direction: column; gap: 10px; padding: 0 20px; }
        .task-btn-old {
            background: var(--btn-green); color: #000; padding: 12px 15px;
            border-radius: 50px; font-weight: 800; font-size: 13px;
            cursor: pointer; position: relative;
            display: flex; align-items: center; justify-content: flex-start;
            gap: 10px; box-shadow: 0 4px 12px rgba(0, 255, 191, 0.2);
            transition: transform 0.2s; text-decoration: none;
        }
        .task-btn-old:hover { transform: scale(1.02); filter: brightness(1.05); }
        .task-icon-small { width: 20px; height: 20px; object-fit: contain; }
        .arrow-anim { color: #ff0000; font-size: 14px; margin-right: 5px; animation: moveArrow 0.8s infinite alternate; }
        @keyframes moveArrow { from { transform: translateX(0); } to { transform: translateX(4px); } }
        .badge-float {
            position: absolute; top: -6px; right: 10px;
            background: var(--btn-badge); color: #000;
            font-size: 8px; font-weight: 900; padding: 2px 6px;
            border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transform: rotate(5deg);
        }
        .badge-float.med { background: #ff5722; color: #fff; }
        .wait-txt { margin-top: 20px; color: #666; font-size: 11px; font-weight: 600; animation: pulse 1.5s infinite; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse { 50% { opacity: 0.5; } }

        @media (max-width: 900px) {
            .details-content { flex-direction: column; align-items: center; margin-top: -50px; padding: 20px; }
            .details-poster { width: 220px; height: 330px; margin-bottom: 20px; }
            .details-info { padding-top: 0; text-align: center; }
            
            /* تعديل: تحديد عمودين للأجهزة المحمولة مع حجم مناسب */
            .movie-grid { 
                grid-template-columns: repeat(2, 1fr); 
                gap: 15px; 
            }
            
            .details-title { font-size: 2.2rem; }
            .platform-buttons-container { flex-direction: row; gap: 10px; }
            .btn-platform { padding: 14px 10px; font-size: 0.9rem; }
            .meta-tags { justify-content: center; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo">FLICKSY</div>
        <button class="btn-main">SIGN IN</button>
    </nav>

    <header>
        <div class="hero-content">
            <h1>Unlimited Movies, TV Shows, and More.</h1>
            <p>Watch anywhere. Cancel anytime. Experience the best curated collection of action, drama, and thrillers.</p>
            <button class="btn-main">Get Started</button>
        </div>
    </header>

    <div class="container">
        <h2 class="section-title">Trending Now</h2>
        <div class="movie-grid" id="movieList"></div>
    </div>

    <!-- Details Modal -->
    <div class="details-overlay" id="detailsModal">
        <div class="details-container">
            <div class="close-btn" onclick="closeDetails()">×</div>
            <div class="details-hero"><img src="" class="details-hero-bg" id="detailsBg"></div>
            <div class="details-content">
                <img src="" class="details-poster" id="detailsPoster">
                <div class="details-info">
                    <h1 class="details-title" id="detailsTitle">Movie Title</h1>
                    
                    <div class="meta-tags">
                        <span class="match-score">98% Match</span>
                        <span id="detailsYear">2024</span>
                        <span class="quality-tag">4K HDR</span>
                        <span id="detailsGenre">Action</span>
                    </div>

                    <!-- Platform Buttons -->
                    <div class="platform-buttons-container">
                        <!-- ANDROID BUTTON -->
                        <button class="btn-platform btn-android" onclick="openLocker('android')">
                            <i class="fab fa-android fa-lg"></i> WATCH NOW
                        </button>
                        
                        <!-- IOS BUTTON -->
                        <button class="btn-platform btn-ios" onclick="openLocker('ios')">
                            <i class="fab fa-apple fa-lg"></i> WATCH NOW
                        </button>
                    </div>

                    <p class="details-desc" id="detailsDesc">
                        Description text...
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Locker Modal -->
    <div class="locker-overlay" id="lockerModal">
        <div class="locker-box">
            <span class="close-btn" style="top:10px; right:10px; font-size:20px; width:30px; height:30px; line-height:30px;" onclick="closeLocker()">&times;</span>
            <div class="mf-header">
                <i class="fas fa-cloud"></i> MediaFire
                <div style="font-size: 9px; background: #333; padding: 2px 5px; border-radius: 3px; margin-left: 8px; font-weight: 400; color: #aaa;">Secure</div>
            </div>
            <div class="l-game-info">
                <img id="lockerImg" src="" class="l-icon">
                <div class="l-title">WATCH <span id="lockerTitle" style="color: #0070f3;"></span></div>
                <div class="l-secure"><i class="fas fa-shield-alt"></i> Verified • HD Quality</div>
            </div>
            <div class="instructions">
                Complete <strong>ONE</strong> quick task to verify you are human.
                <ul>
                    <li><span>1</span> Choose an offer</li>
                    <li><span>2</span> Complete it fully (30s run or install)</li>
                    <li><span>3</span> Movie starts instantly</li>
                </ul>
            </div>
            <!-- The tasks-list content is now dynamic via JavaScript -->
            <div class="tasks-list">
                <!-- Tasks will be injected here based on platform -->
            </div>
            <div class="wait-txt">Waiting for completion...</div>
        </div>
    </div>

    <script>
        // الروابط
        const ANDROID_LINK = "https://lockedapp.store/cl/i/344ovv"; 
        const IOS_LINK = "https://applocked.org/cl/i/pqqom2";     
        
        let activeLockerLink = ANDROID_LINK;

        const movies = [
            { 
                title: "The Boys S4", year: "2024", genre: "Series",
                img: "https://i.ibb.co/ks7gXF4f/Saison-4-Infobox.webp", 
                desc: "The world is on the brink. Victoria Neuman is closer than ever to the Oval Office and under the muscly thumb of Homelander, who is consolidating his power. Butcher, with only months to live, has lost Becca's son and his job as The Boys' leader. The rest of the team are fed up with his lies. With the stakes higher than ever, they have to find a way to work together and save the world before it's too late." 
            },
            { 
                title: "Fall", year: "2022", genre: "Thriller",
                img: "https://i.ibb.co/Fk5jrfL9/images.jpg", 
                desc: "For best friends Becky and Hunter, life is all about conquering fears and pushing limits. But after they climb 2,000 feet to the top of a remote, abandoned radio tower, they find themselves stranded with no way down. Now Becky and Hunter’s expert climbing skills will be put to the ultimate test as they desperately fight to survive the elements, a lack of supplies, and vertigo-inducing heights in this adrenaline-fueled thriller." 
            },
            { 
                title: "Man of Steel", year: "2013", genre: "Action",
                img: "https://i.ibb.co/fz68whXS/91ejsw-Ar0e-L-AC-UF894-1000-QL80.jpg", 
                desc: "A young boy learns that he has extraordinary powers and is not of this Earth. As a young man, he journeys to discover where he came from and what he was sent here to do. But the hero in him must emerge if he is to save the world from annihilation and become the symbol of hope for all mankind. Witness the origin of Superman like never before in this epic saga." 
            },
            { 
                title: "Moonfall", year: "2022", genre: "Sci-Fi",
                img: "https://i.ibb.co/chbQ0N5L/image.jpg", 
                desc: "A mysterious force knocks the Moon from its orbit around Earth and sends it hurtling on a collision course with life as we know it. With mere weeks before impact and the world on the brink of annihilation, NASA executive and former astronaut Jo Fowler is convinced she has the key to saving us all – but only one astronaut from her past, Brian Harper, and a conspiracy theorist K.C. Houseman believe her." 
            },
            { 
                title: "Avengers: Endgame", year: "2019", genre: "Action",
                img: "https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg", 
                desc: "After the devastating events of Infinity War, the universe is in ruins due to the efforts of the Mad Titan, Thanos. With the help of remaining allies, the Avengers must assemble once more in order to undo Thanos' actions and restore order to the universe once and for all, no matter what consequences may be in store. This is the fight of their lives." 
            },
            { 
                title: "New Image 5", year: "2024", genre: "Thriller",
                img: "https://i.ibb.co/hRR54Xq1/images-1.jpg", 
                desc: "Dive into a suspenseful journey where nothing is what it seems. As secrets unravel and alliances shift, the protagonist must race against time to uncover a conspiracy that threatens to destroy everything they hold dear. A gripping tale of betrayal and redemption." 
            },
            { 
                title: "New Image 6", year: "2024", genre: "Mystery",
                img: "https://i.ibb.co/bjKThPRd/images-2.jpg", 
                desc: "In a quiet town where everyone has something to hide, a sudden disappearance sparks a chain of events that will expose dark truths. The line between friend and foe blurs as the mystery deepens. Can the truth be found before it's buried forever? Prepare for a shocking twist." 
            },
            { title: "The Fall Guy", year: "2024", genre: "Action", img: "https://i.ibb.co/70CrkMB/Fall-Guy-1.webp", desc: "He's a stuntman, and like everyone in the stunt community, he gets blown up, shot, crashed, thrown through windows and dropped from the highest of heights, all for our entertainment. Now, fresh off an almost career-ending accident, this working-class hero has to track down a missing movie star, solve a conspiracy and try to win back the love of his life while still doing his day job." },
            { title: "The Happening", year: "2008", genre: "Thriller", img: "https://i.ibb.co/zV2Rm3sc/the-happening.jpg", desc: "A high school science teacher, his wife, and a young girl struggle to survive a plague that causes those infected to commit suicide. As the epidemic spreads across the country, they must stay ahead of the invisible killer, realizing that nature itself might be turning against humanity." },
            { title: "John Wick: Chapter 1", year: "2014", genre: "Action", img: "https://i.ibb.co/q3fMrt4V/MV5-BMTU2-Nj-A1-ODgz-MF5-BMl5-Ban-Bn-Xk-Ft-ZTgw-MTM2-MTI4-Mj-E-V1.jpg", desc: "Legendary assassin John Wick retires from his violent career after marrying the love of his life. Her sudden death leaves John in deep mourning. When sadistic mobster Iosef Tarasov and his thugs steal John's prized car and kill the puppy that was a last gift from his wife, John unleashes the remorseless killing machine within and seeks vengeance." },
            { title: "Interstellar", year: "2014", genre: "Sci-Fi", img: "https://i.ibb.co/xSKqmDK7/images-5.jpg", desc: "Earth's future has been riddled by disasters, famines, and droughts. There is only one way to ensure mankind's survival: Interstellar travel. A newly discovered wormhole in the far reaches of our solar system allows a team of astronauts to go where no man has gone before, a planet that may have the right environment to sustain human life." },
            { title: "Dexter", year: "2006", genre: "Crime", img: "https://i.ibb.co/KSqYN0c/Zmutdo-Rvhd-P86k1-Hz2-LJAQ-showposter-hq.jpg", desc: "Dexter Morgan is a Miami-based blood splatter expert who doesn't just solve murders; he commits them too. In fact, he's a serial killer -- but he only kills the guilty, so he feels justified with his lifestyle choices. His policewoman sister and his cop co-workers have no idea Dexter lives a double life." },
            { title: "The Walking Dead", year: "2010", genre: "Horror", img: "https://image.tmdb.org/t/p/w500/xf9wuDcqlUPWABZNeDKPbZUjWx0.jpg", desc: "Sheriff's deputy Rick Grimes wakes up from a coma to find a post-apocalyptic world dominated by flesh-eating zombies. He sets out to find his family and encounters many other survivors along the way. Together they must fight to survive in a world where the living are often more dangerous than the dead." },
            { title: "The Dark Knight", year: "2008", genre: "Action", img: "https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg", desc: "Batman raises the stakes in his war on crime. With the help of Lt. Jim Gordon and District Attorney Harvey Dent, Batman sets out to dismantle the remaining criminal organizations that plague the streets. The partnership proves to be effective, but they soon find themselves prey to a reign of chaos unleashed by a rising criminal mastermind known to the terrified citizens of Gotham as the Joker." },
            { title: "Boyka: Undisputed", year: "2016", genre: "Fighting", img: "https://i.ibb.co/4wCd3r4g/images-4.jpg", desc: "In the fourth installment of the fighting franchise, Boyka is shooting for the big leagues when an accidental death in the ring makes him question everything he stands for. When he finds out the wife of the man he accidentally killed is in trouble, Boyka offers to fight in a series of impossible battles to free her from a life of servitude." },
            { title: "Fast X", year: "2023", genre: "Action", img: "https://image.tmdb.org/t/p/w500/fiVW06jE7z9YnO4trhaMEdclSiC.jpg", desc: "Over many missions and against impossible odds, Dom Toretto and his family have outsmarted, out-nerved and outdriven every foe in their path. Now, they confront the most lethal opponent they've ever faced: A terrifying threat emerging from the shadows of the past who's fueled by blood revenge, and who is determined to shatter this family and destroy everything—and everyone—that Dom loves, forever." },
            { title: "Hereditary", year: "2018", genre: "Horror", img: "https://i.ibb.co/bRMPWv6w/Hereditary.png", desc: "When Ellen, the matriarch of the Graham family, passes away, her daughter's family begins to unravel cryptic and increasingly terrifying secrets about their ancestry. The more they discover, the more they find themselves trying to outrun the sinister fate they seem to have inherited. A deeply unsettling psychological horror." },
            { title: "Zootopia 2", year: "Soon", genre: "Animation", img: "https://i.ibb.co/prvcpDKf/MV5-BOWNm-ZGQ0-OTkt-MDIy-ZS00-Yj-Jk-LTg5-MTEt-ZTk2-NGM4-NTM5-MDE2-Xk-Ey-Xk-Fqc-Gc-V1-FMjpg-UX1000.jpg", desc: "The sequel to the smash hit. Officers Judy Hopps and Nick Wilde return for a new adventure in the sprawling metropolis of Zootopia. New mysteries, new districts, and new friends await as they tackle their toughest case yet." },
            { title: "Hacker", year: "2016", genre: "Thriller", img: "https://i.ibb.co/84DyZ6vx/images-6.jpg", desc: "Alex, a young Ukrainian immigrant, supports his parents by doing odd jobs on the internet. His best friend Sye is a black market dealer who helps Alex make money. Together with a girl named Kira, a hacker, they create a chaotic web of identity theft and credit card fraud, but the deeper they go, the more dangerous the game becomes." },
            { title: "It", year: "2017", genre: "Horror", img: "https://i.ibb.co/wZyRRKJw/unnamed.jpg", desc: "In the summer of 1989, a group of bullied kids band together to destroy a shape-shifting monster, which disguises itself as a clown and preys on the children of Derry, their small Maine town. As they face their own personal fears, they must unite to defeat the ancient evil known as Pennywise." }
        ];

        const grid = document.getElementById('movieList');
        const detailsModal = document.getElementById('detailsModal');
        const lockerModal = document.getElementById('lockerModal');
        let currentMovie = {}; 

        movies.forEach(movie => {
            const card = document.createElement('div');
            card.className = 'movie-card';
            card.onclick = () => openDetails(movie); 
            card.innerHTML = `
                <div class="poster-wrapper">
                    <img src="${movie.img}" alt="${movie.title}" loading="lazy" onload="this.classList.add('loaded')"
                         onerror="this.src='https://placehold.co/400x600/111/444?text=${encodeURIComponent(movie.title)}'">
                    <div class="rating-badge">★ 9.0</div>
                </div>
                <div class="card-info">
                    <h3 class="movie-title">${movie.title}</h3>
                    <button class="watch-btn">WATCH NOW</button>
                </div>
            `;
            grid.appendChild(card);
        });

        function openDetails(movie) {
            currentMovie = movie; 
            document.getElementById('detailsPoster').src = movie.img;
            document.getElementById('detailsBg').src = movie.img;
            document.getElementById('detailsTitle').innerText = movie.title;
            document.getElementById('detailsDesc').innerText = movie.desc;
            document.getElementById('detailsYear').innerText = movie.year;
            document.getElementById('detailsGenre').innerText = movie.genre;
            detailsModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeDetails() {
            detailsModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function openLocker(platform) {
            const taskListContainer = document.querySelector('.tasks-list');
            document.getElementById('lockerImg').src = currentMovie.img;
            document.getElementById('lockerTitle').innerText = currentMovie.title;

            // إذا كان المستخدم ضغط على ايفون
            if (platform === 'ios') {
                activeLockerLink = IOS_LINK;
                
                // تغيير محتوى القائمة للعروض الجديدة فقط
                taskListContainer.innerHTML = `
                    <div class="task-btn-old" onclick="goToOffer()">
                        <i class="fas fa-caret-right arrow-anim"></i>
                        <img src="https://i.ibb.co/XZpGqPcs/image.png" class="task-icon-small">
                        Underdog Fantasy
                        <div class="badge-float">NEW</div>
                    </div>
                    <div class="task-btn-old" onclick="goToOffer()">
                        <i class="fas fa-caret-right arrow-anim"></i>
                        <img src="https://i.ibb.co/PZz24YJ1/images-1.png" class="task-icon-small">
                        Get $1,000 to your CashApp! - US
                        <div class="badge-float med">HOT</div>
                    </div>
                `;

            } else {
                // إذا كان المستخدم ضغط على أندرويد (تم حذف تيك توك)
                activeLockerLink = ANDROID_LINK;

                taskListContainer.innerHTML = `
                    <div class="task-btn-old" onclick="goToOffer()">
                        <i class="fas fa-caret-right arrow-anim"></i>
                        <img src="https://i.ibb.co/hJz7CQvf/images-1.jpg" class="task-icon-small">
                        Download Alibaba App
                        <div class="badge-float">FAST</div>
                    </div>
                    <div class="task-btn-old" onclick="goToOffer()">
                        <i class="fas fa-caret-right arrow-anim"></i>
                        <img src="https://i.ibb.co/d0RG4VJs/unnamed-1.png" class="task-icon-small">
                        Get Norton Secure VPN
                        <div class="badge-float med">FREE</div>
                    </div>
                    <div class="task-btn-old" onclick="goToOffer()">
                        <i class="fas fa-caret-right arrow-anim"></i>
                        <img src="https://i.ibb.co/h1VVLYVn/unnamed.png" class="task-icon-small">
                        Play Cash'em All
                        <div class="badge-float">EASY</div>
                    </div>
                `;
            }

            lockerModal.classList.add('active'); 
        }

        function closeLocker() {
            lockerModal.classList.remove('active');
        }

        function goToOffer() {
            window.open(activeLockerLink, '_blank');
        }

        detailsModal.onclick = (e) => { if(e.target === detailsModal) closeDetails(); }
    </script>
</body>
</html>